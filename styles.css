/* styles.css — responsive updates */

/* --- variables --- */
:root{
  --bg-top: #04101d;
  --bg-mid: #07162a;
  --bg-bot: #071a2d;
  --yellow: #ffd75a;
  --gold-1: #f6d06a;
  --gold-2: #ffb84d;
  --gold-3: #b27a12;
  --modal-text: #2b1f00;
  --modal-radius: 14px;
}

/* reset */
*{box-sizing:border-box}
html,body{height:100%;margin:0;padding:0}
body{
  background: linear-gradient(180deg,var(--bg-top) 0%,var(--bg-mid) 50%,var(--bg-bot) 100%);
  color:#fff;
  font-family: "Lexend", Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  text-align:center;
  overflow:hidden;
}

/* header (title at top, bold) */
.page-header{
  position:fixed;
  top:70px;               /* moved down by default */
  left:50%;
  transform:translateX(-50%);
  z-index:9;
  pointer-events:none;
}
.page-header h1{
  margin:0;
  color:#ffffff;
  font-weight: 800;
  font-size: clamp(18px, 2.4vw, 28px); /* responsive size */
  letter-spacing: -0.6px;
  text-shadow: 0 6px 22px rgba(0,0,0,0.45);
  pointer-events:auto;
}

/* canvas sky */
#sky{position:fixed;inset:0;width:100%;height:100%;z-index:0}

/* layout */
main{position:relative;z-index:2;height:100vh;display:flex;align-items:center;justify-content:center;pointer-events:none}
.stars{display:flex;gap:clamp(1.2rem, 4vw, 3rem);pointer-events:auto;align-items:flex-end;justify-content:center}

/* star button (touch-friendly) */
.star{
  background:transparent;border:0;padding:0;
  width:clamp(140px, 24vw, 300px);
  height:clamp(140px, 30vw, 360px);
  display:flex;align-items:flex-end;justify-content:center;
  position:relative;cursor:pointer;pointer-events:auto;
  touch-action:manipulation;
  -webkit-tap-highlight-color: rgba(0,0,0,0);
}
.dropping .star{transform:translateY(-120vh);transition:transform .9s cubic-bezier(.22,.9,.3,1)}
.final-1{transform:translateY(12px) scale(.95);transition-delay:.22s}
.final-2{transform:translateY(0) scale(1.18);transition-delay:.12s}
.final-3{transform:translateY(12px) scale(.95);transition-delay:.32s}

/* inner flip */
.star-inner{width:100%;height:100%;transform-style:preserve-3d;transition:transform .7s;display:flex;align-items:flex-end;justify-content:center}
.star.flip .star-inner{transform:rotateY(180deg)}

/* svg parts */
.star-svg{width:80%;height:80%;overflow:visible;display:block;max-width:420px}
.white-halo{fill:#ffffff;opacity:0.12;filter:blur(8px);pointer-events:none}
.halo{fill:var(--yellow);opacity:.88;filter:url(#haloBlur);pointer-events:none}
.body{fill:url(#gradA);stroke:rgba(0,0,0,.06);stroke-width:1;pointer-events:none}
.rim{fill:none;stroke:rgba(255,255,255,0.16);stroke-width:5;stroke-linejoin:round;pointer-events:none}

/* shadow under */
.ground-shadow{position:absolute;left:50%;bottom:8%;transform:translateX(-50%);width:clamp(60px,16vw,160px);height:clamp(8px,2.2vw,24px);border-radius:50%;background:radial-gradient(ellipse at center,rgba(0,0,0,0.36),rgba(0,0,0,0.12),transparent);filter:blur(10px);pointer-events:none}

/* pop animation */
.star.pop .star-svg{animation:pop .5s cubic-bezier(.2,.9,.2,1)}
@keyframes pop{0%{transform:translateZ(0) scale(1)}40%{transform:translateZ(40px) scale(1.18)}100%{transform:translateZ(24px) scale(1.06)}}

/* sparkles — reduced on small screens via JS, but style kept */
.spark{position:absolute;width:8px;height:8px;border-radius:50%;background:radial-gradient(circle,#fff 0%,#ffd 40%,rgba(255,200,0,.06) 70%,transparent 100%);filter:blur(1px);opacity:0;transform:scale(.6);pointer-events:none;animation:sparkPulse var(--dur,1.4s) var(--delay,0s) infinite}
@keyframes sparkPulse{0%{opacity:0;transform:scale(.5) translateY(0)}20%{opacity:1;transform:scale(1.05) translateY(-6px)}60%{opacity:.6;transform:scale(0.9) translateY(-2px)}100%{opacity:0;transform:scale(.6) translateY(0)}}

/* modal (golden card) */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;pointer-events:none;z-index:10}
.modal .modal-content{
  pointer-events:auto;
  width:min(92vw,420px);
  padding:16px;
  border-radius:var(--modal-radius);
  background: linear-gradient(180deg, var(--gold-1) 0%, var(--gold-2) 60%, var(--gold-3) 100%);
  color: var(--modal-text);
  box-shadow: 0 30px 70px rgba(0,0,0,0.45);
  text-align:center;
  transform: translateY(10px);
  opacity: 0;
  transition: all .18s ease;
  font-family: "Lexend", system-ui, -apple-system, "Segoe UI", Roboto, Arial;
}
.modal.show .modal-content{ transform: translateY(0); opacity:1 }

.modal .modal-content h2{
  margin:0 0 8px 0;
  font-size: clamp(18px, 2.4vw, 22px);
  font-weight:800;
  color:#4a2f00;
  letter-spacing:-0.3px;
}

/* button */
.btn-primary{
  display:inline-block;
  padding:8px 12px;
  border-radius:8px;
  border:0;
  background:rgba(255,255,255,0.95);
  color:#2b1f00;
  font-weight:700;
  cursor:pointer;
  box-shadow: 0 6px 18px rgba(0,0,0,0.18);
}

/* confetti container */
#confetti{position:fixed;inset:0;z-index:9;pointer-events:none}

/* small screens */
@media (max-width:820px){
  .page-header{ top:28px; }
  .page-header h1{ font-size:18px; }
  .star{ width:clamp(110px, 30vw, 200px); height:clamp(120px, 36vw, 240px); }
  .star-svg{ width:86%; height:86%; }
  .ground-shadow{ width:clamp(48px, 20vw, 120px); height:clamp(6px,1.8vw,18px);}
  .stars{ gap: clamp(0.8rem, 6vw, 1.6rem); }
  .modal .modal-content{ padding:12px; width:92vw; }
  .btn-primary{ padding:8px 14px; font-size:14px; }
}

/* very small phones */
@media (max-width:420px){
  .page-header{ top:20px; }
  .page-header h1{ font-size:16px; }
  .star{ width:110px; height:140px; }
  .star-svg{ width:84%; height:84%; }
  .ground-shadow{ display:none; }
  .spark{ display:none; } /* reduce animation load */
}
